import {
  Accordion,
  AccordionDetails,
  AccordionSummary,
  Card,
  CardContent,
  Chip,
  List,
  ListItem,
  ListItemIcon,
  ListSubheader,
  Typography,
} from '@mui/material';

import { DetailPattern, DetailStoptimes, NestedLabel } from '../../types';
import { BusIcon, ExpandMoreIcon } from '../MaterialIcons';

type DisplayPatternPropType = {
  pattern: DetailPattern;
  stoptimes: DetailStoptimes[];
  labels: NestedLabel;
};

const DisplayPattern = ({
  pattern,
  stoptimes,
  labels,
}: DisplayPatternPropType) => {
  return (
    <List
      subheader={
        <ListSubheader id={pattern.id}>
          <Typography variant="h5">{pattern.name}</Typography>
        </ListSubheader>
      }
      sx={{ marginBottom: 1 }}
    >
      {stoptimes.map((each) => (
        <Accordion
          key={pattern.id + each.scheduledArrival.toString()} 
        >
          <AccordionSummary expandIcon={<ExpandMoreIcon />}>
            <ListItemIcon>
              <BusIcon />
            </ListItemIcon>
            <Chip label={each.headsign} />
            <Typography sx={{ flexGrow: 1 }}></Typography>
            <Chip label="Time" />
          </AccordionSummary>
          <AccordionDetails>
            <Typography>{each.serviceDay}</Typography>
            <Typography>{each.scheduledArrival}</Typography>
            <Typography>{each.scheduledDeparture}</Typography>
          </AccordionDetails>
        </Accordion>
      ))}
    </List>
  );
};

export default DisplayPattern;
